(this["webpackJsonpfinal-project-frontend"]=this["webpackJsonpfinal-project-frontend"]||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},37:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),c=a.n(o),l=(a(37),a(8)),u=a(15),i=a(9),s=a(7);a(43);var m=function(e){var t=e.CreateAccountFunction;return r.a.createElement("div",null,r.a.createElement("form",{className:"Form SignupForm",onSubmit:function(e){return t(e)}},r.a.createElement("label",{htmlFor:"createEmail"},"Email"),r.a.createElement("input",{type:"email",name:"createEmail"}),r.a.createElement("label",{htmlFor:"createPassword"},"Password"),r.a.createElement("input",{type:"password",name:"createPassword"}),r.a.createElement("button",null,"Create Account")))};var E=function(e){var t=e.CreateAccountFunction;return r.a.createElement("div",{className:"Wrapper"},r.a.createElement("h1",null,"Create Account"),r.a.createElement("div",{className:"CreateWrapper"},r.a.createElement(m,{CreateAccountFunction:t}),r.a.createElement("div",{className:"CreateInformation"},r.a.createElement("h2",null,"About Logo Site"),r.a.createElement("p",null,"A space to get your thoughts out of your head. No musing is too big or too small."))))};var p=function(e){var t=e.LogoutFunction,a=e.isLoggedIn;return r.a.createElement("header",{className:"Header"},r.a.createElement("div",{className:"Header_Wrapper"},r.a.createElement("div",{className:"Header_Logo"},"Musings."),r.a.createElement("nav",{className:"Header_Nav"},a&&r.a.createElement("a",{href:"/"},"Profile"),!a&&r.a.createElement("a",{href:"/create-account"},"Create Account"),!a&&r.a.createElement("a",{href:"/login"},"Login"),a&&r.a.createElement("a",{onClick:function(){return t()}},"Log Out"))))},f=a(12),h=a.n(f);var g=function(e){var t=e.createPostFunction;return r.a.createElement("form",{className:"Form CreatePostForm",onSubmit:function(e){return t(e)}},r.a.createElement("label",{htmlFor:"postText"},"Text"),r.a.createElement("input",{type:"text",name:"postText"}),r.a.createElement("button",null,"Submit"))};var d=function(e){var t=e.userInfo,a=Object(n.useState)([]),o=Object(l.a)(a,2),c=o[0],u=o[1],i=t.email,s=t.uid;return Object(n.useEffect)((function(){h.a.get("https://afternoon-river-65662.herokuapp.com/").then((function(e){u(e.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:"Wrapper"},r.a.createElement("h1",null,"Welcome, ",i),r.a.createElement("div",{className:"CreatePost"},r.a.createElement("h2",null,"Let your thoughts out"),r.a.createElement(g,{createPostFunction:function(e){e.preventDefault();var t=e.currentTarget.postText.value,a=t.replace(/\s+/g,"-").toLowerCase().substr(0,16),n=s;h.a.get("https://afternoon-river-65662.herokuapp.com/create?text=".concat(t,"&id=").concat(a,"&userId=").concat(n)).then((function(e){console.log("response",e)})).catch((function(e){console.log(e)}))}})),r.a.createElement("div",{className:""},r.a.createElement("h2",null,"All Musings"),c.map((function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("a",{href:"/post/".concat(e.id)},e.text))}))))};var v=function(e){var t=e.LoginFunction;return r.a.createElement("form",{className:"Form LoginForm",onSubmit:function(e){return t(e)}},r.a.createElement("label",{htmlFor:"loginEmail"},"Email"),r.a.createElement("input",{type:"email",name:"loginEmail"}),r.a.createElement("label",{htmlFor:"loginPassword"},"Password"),r.a.createElement("input",{type:"password",name:"loginPassword"}),r.a.createElement("button",null,"Submit"))};var b=function(e){var t=e.LoginFunction;return r.a.createElement("div",{className:"Wrapper"},r.a.createElement("h1",null,"Login"),r.a.createElement(v,{LoginFunction:t}))};var O=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(i.f)().id;return Object(n.useEffect)((function(){h.a.get("https://afternoon-river-65662.herokuapp.com/post/".concat(c)).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:"SinglePost Wrapper"},r.a.createElement("p",null,a.text))};a(66);var j=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),m=Object(l.a)(c,2),f=m[0],h=m[1],g=Object(n.useState)({}),v=Object(l.a)(g,2),j=v[0],A=v[1],F={apiKey:"AIzaSyCLBJ4w65_RjpE54Sq9ujOtlBRVFIeG6AY",authDomain:"final-project-37ede.firebaseapp.com",databaseURL:"https://final-project-37ede.firebaseio.com",projectId:"final-project-37ede",storageBucket:"final-project-37ede.appspot.com",messagingSenderId:"200354381478",appId:"1:200354381478:web:9450e6350274fc268f3e67"};return Object(n.useEffect)((function(){s.apps.length||s.initializeApp(F),s.auth().setPersistence(s.auth.Auth.Persistence.SESSION).catch((function(e){console.log("AUTH ERROR",e)}))}),[F]),Object(n.useEffect)((function(){s.auth().onAuthStateChanged((function(e){e?(A(e),o(!0)):(A({}),o(!1)),h(!1)}))}),[]),f?null:r.a.createElement("div",{className:"App"},r.a.createElement(p,{LogoutFunction:function(){s.auth().signOut().then((function(){o(!1)})).catch((function(e){console.log("LOGOUT ERROR",e)}))},isLoggedIn:a}),r.a.createElement(u.a,null,r.a.createElement(i.b,{exact:!0,path:"/"},a?r.a.createElement(d,{userInfo:j}):r.a.createElement(i.a,{to:"/login"})),r.a.createElement(i.b,{exact:!0,path:"/post/:id"},a?r.a.createElement(O,null):r.a.createElement(i.a,{to:"/login"})),r.a.createElement(i.b,{exact:!0,path:"/login"},a?r.a.createElement(i.a,{to:"/"}):r.a.createElement(b,{LoginFunction:function(e){e.preventDefault();var t=e.currentTarget.loginEmail.value,a=e.currentTarget.loginPassword.value;s.auth().signInWithEmailAndPassword(t,a).then((function(e){console.log("LOGIN RESPONSE",e),o(!0)})).catch((function(e){console.log("LOGIN ERROR",e)}))}})),r.a.createElement(i.b,{exact:!0,path:"/create-account"},a?r.a.createElement(i.a,{to:"/"}):r.a.createElement(E,{CreateAccountFunction:function(e){e.preventDefault(),console.log("form payload",e);var t=e.currentTarget.createEmail.value,a=e.currentTarget.createPassword.value;s.auth().createUserWithEmailAndPassword(t,a).then((function(e){console.log("VALID ACCOUNT CREATE",e),o(!0)})).catch((function(e){console.log("CREATE ACCOUNT ERROR",e)}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.bbf7f46a.chunk.js.map