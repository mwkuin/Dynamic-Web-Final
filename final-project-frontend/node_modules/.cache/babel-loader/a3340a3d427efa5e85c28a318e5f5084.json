{"ast":null,"code":"import _slicedToArray from\"/Users/morgankuin/Documents/GitHub/Dynamic-Web-Final/final-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";//Components\nimport CreatePostForm from'../components/CreatePostForm';function Home(_ref){var userInfo=_ref.userInfo;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allPosts=_useState2[0],setAllPosts=_useState2[1];var email=userInfo.email;var uid=userInfo.uid;useEffect(function(){axios.get(//My API endpoint\n//Local:\n\"http://localhost:4000\"//Production:\n//`https://myheroku-deployed-api.heroku.com`\n).then(function(response){// handle success\nsetAllPosts(response.data);}).catch(function(error){// handle error\nconsole.log(error);});},[]);//Create a Post\nfunction createPostFunction(e){e.preventDefault();var text=e.currentTarget.postText.value;var idFromText=text.replace(/\\s+/g,\"-\").toLowerCase().substr(0,16);var userId=uid;axios.get(//My API endpoint\n//Local:\n\"http://localhost:4000/create?text=\".concat(text,\"&id=\").concat(idFromText,\"&userId=\").concat(userId)//Production:\n//`https://myheroku-deployed-api.heroku.com`\n).then(function(response){// handle success\nconsole.log('response',response);}).catch(function(error){// handle error\nconsole.log(error);});}return/*#__PURE__*/React.createElement(\"div\",{className:\"Wrapper\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Welcome, \",email),/*#__PURE__*/React.createElement(\"div\",{className:\"CreatePost\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Add a Post\"),/*#__PURE__*/React.createElement(CreatePostForm,{createPostFunction:createPostFunction})),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"h2\",null,\"All Posts\"),allPosts.map(function(post,i){return/*#__PURE__*/React.createElement(\"p\",null,\"key=\",i,\">\",/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\".concat(post.id)},post.text));})));};export default Home;","map":{"version":3,"sources":["/Users/morgankuin/Documents/GitHub/Dynamic-Web-Final/final-project-frontend/src/pages/Home.js"],"names":["React","useEffect","useState","axios","CreatePostForm","Home","userInfo","allPosts","setAllPosts","email","uid","get","then","response","data","catch","error","console","log","createPostFunction","e","preventDefault","text","currentTarget","postText","value","idFromText","replace","toLowerCase","substr","userId","map","post","i","id"],"mappings":"kMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CAEA,QAASC,CAAAA,IAAT,MAA4B,IAAZC,CAAAA,QAAY,MAAZA,QAAY,eACMJ,QAAQ,CAAC,EAAD,CADd,wCACnBK,QADmB,eACTC,WADS,eAE1B,GAAMC,CAAAA,KAAK,CAAGH,QAAQ,CAACG,KAAvB,CACA,GAAMC,CAAAA,GAAG,CAAGJ,QAAQ,CAACI,GAArB,CAEAT,SAAS,CAAC,UAAM,CAEdE,KAAK,CACFQ,GADH,CAEG;AACA;AAHH,uBAKE;AACA;AANF,EAQGC,IARH,CAQQ,SAAUC,QAAV,CAAoB,CACxB;AACAL,WAAW,CAACK,QAAQ,CAACC,IAAV,CAAX,CACD,CAXH,EAYGC,KAZH,CAYS,SAAUC,KAAV,CAAiB,CACtB;AACAC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAfH,EAiBD,CAnBQ,CAmBN,EAnBM,CAAT,CAqBF;AACE,QAASG,CAAAA,kBAAT,CAA4BC,CAA5B,CAA+B,CAC7BA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,IAAI,CAAGF,CAAC,CAACG,aAAF,CAAgBC,QAAhB,CAAyBC,KAApC,CACA,GAAIC,CAAAA,UAAU,CAAGJ,IAAI,CAACK,OAAL,CAAa,MAAb,CAAqB,GAArB,EAA0BC,WAA1B,GAAwCC,MAAxC,CAA+C,CAA/C,CAAiD,EAAjD,CAAjB,CACA,GAAIC,CAAAA,MAAM,CAAGpB,GAAb,CAEAP,KAAK,CACFQ,GADH,CAEG;AACA;AAHH,4CAIuCW,IAJvC,gBAIkDI,UAJlD,oBAIuEI,MAJvE,CAKE;AACA;AANF,EAQGlB,IARH,CAQQ,SAAUC,QAAV,CAAoB,CACxB;AACAI,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBL,QAAxB,EACD,CAXH,EAYGE,KAZH,CAYS,SAAUC,KAAV,CAAiB,CACtB;AACAC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAfH,EAqBD,CAED,mBAEE,2BAAK,SAAS,CAAC,SAAf,eACE,0CAAcP,KAAd,CADF,cAEE,2BAAK,SAAS,CAAC,YAAf,eACE,2CADF,cAEE,oBAAC,cAAD,EAAgB,kBAAkB,CAAEU,kBAApC,EAFF,CAFF,cAME,2BAAK,SAAS,CAAC,EAAf,eACE,0CADF,CAEGZ,QAAQ,CAACwB,GAAT,CAAa,SAACC,IAAD,CAAOC,CAAP,qBACZ,oCAAQA,CAAR,kBACE,yBAAG,IAAI,iBAAWD,IAAI,CAACE,EAAhB,CAAP,EAA8BF,IAAI,CAACV,IAAnC,CADF,CADY,EAAb,CAFH,CANF,CAFF,CAkBD,EAED,cAAejB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n//Components\nimport CreatePostForm from '../components/CreatePostForm'\n\nfunction Home( {userInfo} ) {\n  const [allPosts, setAllPosts] = useState([]);\n  const email = userInfo.email;\n  const uid = userInfo.uid;\n\n  useEffect(() => {\n\n    axios\n      .get(\n       //My API endpoint\n       //Local:\n      `http://localhost:4000`\n      //Production:\n      //`https://myheroku-deployed-api.heroku.com`\n      )\n      .then(function (response) {\n        // handle success\n        setAllPosts(response.data);\n      })\n      .catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n\n  }, []);\n\n//Create a Post\n  function createPostFunction(e) {\n    e.preventDefault();\n    let text = e.currentTarget.postText.value;\n    let idFromText = text.replace(/\\s+/g, \"-\").toLowerCase().substr(0,16);\n    let userId = uid;\n\n    axios\n      .get(\n       //My API endpoint\n       //Local:\n      `http://localhost:4000/create?text=${text}&id=${idFromText}&userId=${userId}`\n      //Production:\n      //`https://myheroku-deployed-api.heroku.com`\n      )\n      .then(function (response) {\n        // handle success\n        console.log('response', response);\n      })\n      .catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n\n\n\n\n\n  }\n\n  return (\n\n    <div className=\"Wrapper\">\n      <h1>Welcome, {email}</h1>\n      <div className=\"CreatePost\">\n        <h2>Add a Post</h2>\n        <CreatePostForm createPostFunction={createPostFunction}/>\n      </div>\n      <div className=\"\">\n        <h2>All Posts</h2>\n        {allPosts.map((post, i) => (\n          <p>key={i}>\n            <a href={`/post/${post.id}`}>{post.text}</a>\n          </p>\n        ))}\n      </div>\n    </div>\n  )\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}